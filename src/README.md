# Website Performance Optimization portfolio project


## About the project

This is one of the required projects of Udacity Frontend Development Nanodegree. The purpose is to optimize it for speed! In particular, optimize the critical rendering path and make the pages render as quickly as possible.

## Getting started

Please click [here](http://miadwang.github.io/frontend-nanodegree-mobile-portfolio/dist/index.html) to view the project. The site is generated by GitHub Pages.

## For reviewers

### Part 1: Optimize PageSpeed Insights score for index.html

Try running it through [PageSpeed Insight](https://developers.google.com/speed/pagespeed/insights/). Below is the URL of `index.html` for you to copy. The score is more than 90.

http://miadwang.github.io/frontend-nanodegree-mobile-portfolio/dist/index.html.

### Part 2: Optimize Frames per Second in pizza.html

Please click [here](http://miadwang.github.io/frontend-nanodegree-mobile-portfolio/dist/views/pizza.html) to open `pizza.html`.

Check the Console in Chrome Dev Tools for **Average scripting time to generate last 10 frames** and **Time to resize pizzas**. The page is running at 60 fps when scrolling. Time to resize pizzas is less than 5 ms.

### Gulp

**You don't need gulp to run the project.**

I just used gulp to minify HTML, CSS, and JS files. I include `package.json` and `gulpfile.js` in the `src/`.

Run `npm install` to install all needed packages. And then run `gulp` to start minifying the files.

## Optimizations for `pizza.html`.

1. Image compression and resizing.

2. In `src/views/pizza.html` and `src/views/css/styles.css`.

  * Take the `movingPizzas1 div` out of the `container div` and put it right below `body`. Promote all `.mover` pizzas in separate layers using `will-change: transform`. This makes much less **paint** in scrolling, but more **compositing layers**.

3. In `src/vies/js/main.js`.

  * Modify `updatePositions` function.

    * To avoid **forced reflow**, take `document.querySelectorAll(.mover)` and `document.body.scrollTop / 1250` out of the loop and assign them to variables for use in the loop.

    * To avoid **layout** in the loop, change `items[i].style` from `left` to `transform`.

  * Modify `resizePizzas` function.

    * Delete `determineDx` function and modify `sizeSwitcher` function to calculate a new width of all the pizzas in percentage to the `randomPizzaContainer div`.

    * Modify `changePizzaSized` function. To avoid **forced reflow**, take `document.querySelectorAll(".randomPizzaContainer")` and calculation of the new width using `sizeSwitcher` function out of the loop.
